# 上传文件的时候我们到底在传输什么？你需要了解的前端编码

<div align="center">
  <image src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d45a010de01a413ab7101a4479b1ad5e~tplv-k3u1fbpfcp-zoom-1.image" />
</div>

## 大纲「待删」

1. 从一个简单的请求开始
   1. "裤裆"这两个字在传输的过程中变成了什么
      1. charles 截图
   2. 为什么会变成这个，怎么变成这个
2. javascript
   1.

位 字节 kb b

## 前言

其实这篇文章是在我写上传文件的时候产生的，因为上传文件的时候要涉及到 `Blob` `ArrayBuffer` `Uint8Array` 等内容，我又是个不彻底搞清楚不罢休的人，往往会因为一个小问题牵扯出来一堆的疑问，然后疑问又带来了新疑问（禁止套娃！），写这篇文章真的是花了很长时间，如果看完之后有所收获，一个赞就是最好的褒奖。

「TODO」文章很长，建议收藏之后慢慢品尝

## 正文标题一

「TODO」

## 正文标题二

「TODO」

## 正文标题三

「TODO」

## 后语

「TODO」

## 页脚

代码即人生，我甘之如饴。

> 技术不断在变  
> 头脑一直在线  
> 前端路漫漫  
> 我们下期见
>
> by --- 裤裆三重奏

我在这里 [gayhub@jsjzh](https://github.com/jsjzh) 欢迎大家来找我玩儿。

欢迎小伙伴们直接加我，拉你进群一起搞事情，记得备注一下你是从哪里看到文章的。

<div align="center">
  <image src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/53fb3e16b1f64ebbb8aee73734371257~tplv-k3u1fbpfcp-watermark.image" />
</div>

> ps: 如果图片失效，可以加我 wechat: kimimi_king

## 草稿

字符、字节、b、kb、k、mb

- 一个字节等于 8 位
- 2^8 256
- 127 Ascii
- Ascii 扩展字符集
  - 128~256
- 127 以后的字符直接取消，小于 127 的字符意义与原来相同，但两个大于 127 的字符连在一起时，就表示一个汉字
  - 第一个字节从 0xa1 到 0xf7，第二个字节从 0xa1 到 0xfe 7000 多个汉字，还把数学符号、罗马希腊的字母、日文的假名、ascii 中原有的数字、标点】字母都重新编了两个字节长的编码，就是全角字符
  - 这就叫 gb2312
- 只要第一个字节大于 127 就表示一个汉字的开始，这就是 GBK 标准，包括了 gb2312，又增加了 2W 个新的汉字，包括繁体字和符号
- 少数民族要用电脑，再扩展，又加了几千个少数民族的字，成了 gb18030
- 这些编码被称为 DBCS double byte chareter set 双字节字符集
- 台湾 Big5 编码
- ISO 国际标准化组织，废了所有的地区性编码方案，重新搞了一个包括了地球上所有文化、字母和符号的编码，也就是 UCS，俗称 unicode，Universal Multiple-Octet Coded Character Set
  - 直接规定必须用两个字节，也就是 16 位来统一表示所有字符，原先的 Ascii 127 位字符，保持原编码不变，长度由 8 位扩展为 16 位，其他文化和语言的字符全部重新统一编码
    - 原先的半角字符会浪费一倍的空间
- 为解决 unicode 在网络上传输的问题，面向传输的 UTF(UCS Transfer Format) 标准就出现了，UTF-8 就是每次 8 个位传输数据，UTF-16 就是每次 16 个位
  - **UTF-8 是在互联网上使用最广的一种 unicode 的实现方式**，实现方式，这是为传输而设计的编码
    - 是一种变长的编码方式，可以用 1~4 个字节表示一个符号
    - 当字符在 ascii 码的范围时，就用一个字节表示
    - unicode 一个钟文字符占 2 个字节，UTF-8 一个中文字符占 3 个字节

| Unicode 符号范围（十六进制） | UTF-8 编码方式（二进制）            |
| ---------------------------- | ----------------------------------- |
| 0000 0000 ~ 0000 007F        | 0xxxxxxx                            |
| 0000 0080 ~ 0000 07FF        | 110xxxxx 10xxxxxx                   |
| 0000 0800 ~ 0000 FFFF        | 1110xxxx 10xxxxxx 10xxxxxx          |
| 0001 0000 ~ 0010 FFFF        | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx |
