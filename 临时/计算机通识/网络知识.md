# UDP

## 面向报文

在客户端，应用层将数据传递给传输层的 UDP 协议，UDP 只会给数据增加一个 UDP 头，标识其使用的是 UDP 协议，然后就传输给网络层了

在服务端，网络层将数据传递给传输层，UDP 只去除 IP 报文头就传递给应用层，不做任何拼接操作

## 不可靠性

1. UDP 是无连接的，通信不需要建立和断开连接
2. UDP 是不可靠的，协议受到什么数据就传递什么数据，不会备份数据，对方能否收到也不关心
3. UDP 没有阻塞控制，一直以恒定速度发送数据，即使网络条件不好也不会对发送速率进行调整，在网络条件不好的情况下会导致丢包，但是在实时性要求很高的场景下很好使

## 高效

UDP 的头部开销很小，只有八字节，相比 TCP 的至少二十字节要少的多

头部包含数据

- 两个十六位的端口号，分别为源端口（可选）和目标端口
- 整个数据报文的长度
- 整个数据报文的检验和（IPv4 可选），该字段用于发现头部信息和数据中的错误

UDP 和 TCP 的区别是什么

- UDP 协议是面向无连接的，也就说不需要在传递数据前先连接起双方
- UDP 协议只是数据报文的搬运工，不保证数据有序且不丢失
- UDP 协议没有任何控制流量的算法，相对 TCP 更加轻便
- UDP 协议头部开销很小，只有八字节

## 传输方式

- 一对一
- 一对多
- 多对多
- 多对一

# TCP


